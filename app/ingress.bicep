@description('The kube config for the target Kubernetes cluster.')
@secure()
param kubeConfig string = 'YXBpVmVyc2lvbjogdjENCmNsdXN0ZXJzOg0KLSBjbHVzdGVyOg0KICAgIGNlcnRpZmljYXRlLWF1dGhvcml0eS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VVMlZFTkRRWFJIWjBGM1NVSkJaMGxTUVU1UFRsSnJhak42TTJReFZGQmpTemhTUmtRMWVuTjNSRkZaU2t0dldrbG9kbU5PUVZGRlRFSlJRWGNLUkZSRlRFMUJhMGRCTVZWRlFYaE5RMWt5UlhkSlFtTk9UV3BWZDA1VVJYcE5WR3Q0VFhwVmVsZG9aMUJOYWtFeFRsUkJNVTFVVFhoUFZFbDZUbFJPWVFwTlFUQjRRM3BCU2tKblRsWkNRVTFVUVcxT2FFMUpTVU5KYWtGT1FtZHJjV2hyYVVjNWR6QkNRVkZGUmtGQlQwTkJaemhCVFVsSlEwTm5TME5CWjBWQkNqSTJSRnBPZVVkME5FcG1abkU1TWxvMldYWlhXWEF3UW5rM1NGTllabTl1VGxsVlRIWnlUMGhxVDBaQ1VtNTVSREY0WVdsSVlYQjVabTh5WW04clNEUUtUVTVaV1hKT2FIVjVjVmc1UmpKbGJtb3pOV2RhWkVKdE5uQnhiMFpwY1ZWamJEaFVaazFQWTJRMFFUVXhLMGhaUnpRclJXZDVhbkpFZW00MVVIbG5TUW80UTJOMlFYWTFObTFHUTJOT1NrdzRSRFY0UW1sWlFVSmtWVmRUUW1SSFVsSTNNRWdyVWtaNFlqSTBVa2xvVDNodFJtOXNjaXRRT0RCM1MzRmtRMk0yQ2pScWNHaFlSMDVHWkROaGVrRXJZWGhsWWxFd05FUkhiazE1VjJwblJuVlRjMDl1TUhobVJWaDJja3RhY2t3MmEzWXhTR0o0WWt0clpuRlRWSEpMVG1RS1NUVm9VV0pvYTJKTWRrWjZkVlJQYzBSUmJYcExia2syZVV4bE5FVk1jbTlSZEN0ck4xTTBUbk4zUjNkNmVIcFhaR3gzV1c5TVltaGhVbFI0ZVcxUVNBcEdjVEEzYUVoV00yMUpkMnRXT1ZaTGRIQnlTVUp6YUZkSE1WUnVlRXR4YmxkTVlrWXJNalpPVGxCNlF6UjNablEyWkRaNVdVcHZabm81ZDB0MVowdExDakZEV0ZkdU1XTnpNbmhoYkZGeU5qbHdXRmxaUVV4RE1sWmhVRGRoT0dSNlpYZFVhVzlRWjBOQmJqQmpjbTFYUkdKM2VVZENReXRhWldKS1EwSXljRmNLU2tKelRUVnJNekpEVVVWYU4wbzJXbGR4UzFaVFV6WmxZelkzYTJnMWVXYzVjSFkxWjJGbVNYZDFaa2xyV1ZsSmVHTnNUbEYxYzI5VmNXMVlZbWxsTWdwbEwySm9SalZWVlUxRFNUZG9PR0pGVDJNcmJITmlaVEZNWWxkbmFteFBhMUExWlhaVGFWVmlWMVo0Y2k5T1UwWnRXRkZMUWtodFpVcGtjekJ3YWtKSENsVTVkME0xYm1kbVdDdElMMDFoUVhwdUwycFhObXhrWlZoQmEzSmpZbko1U2xkTk1qWklZemQ1ZUVsRlowUTNURk5hYkd0SlJXeGpSVFZJWlZoMU16Z0tSbWhuYlRWbFkxZFJNMmR5TkZvMVNVaExjMGMyV1cxRkx6TnBlakl5T0hOTFZEZHphemhZY1cxcGMwTkJkMFZCUVdGT1EwMUZRWGRFWjFsRVZsSXdVQXBCVVVndlFrRlJSRUZuUzJ0TlFUaEhRVEZWWkVWM1JVSXZkMUZHVFVGTlFrRm1PSGRJVVZsRVZsSXdUMEpDV1VWR1FXOVZPRVZtVm5ONVFuVnJUWEZUQ21wTUwyb3JVaXRRU0hKa2RrMUJNRWREVTNGSFUwbGlNMFJSUlVKRGQxVkJRVFJKUTBGUlEzbGxNRFJMT1hWM1RHMDJTVzVDU2pOMFVWRkZiSHAyTTFnS1FqQkVNV050ZW1WR05XWlZSRFJ6Y0NzeFMzRkJka2hMZDNKT01WY3ZORnBUWmpCbVlYQndVMXAzTVhrNGRFRmpWbUUyT0hCSllYWTRSM2RaWmtaaldBcGtkVGhFWjJkQ1RsQkVkSFl6VlVoS1NrcG5ZVmhNYUUxRVpIRnFhbk5sYVVoM1UwNVdhRFJOZVRkcmJHUkhVemRCY1RaS1JUWnNNMlZTZERnNGRVdzBDamM1VjFGYVlqa3pOemRQZEVKNFZsbEtaM2wwYkdkRE5rZHhOa1JDSzFCMGFGTjFTMEZNTVUxVVZHZFVTVlkxTkdSbFJuUmtRVUp6ZGtJNE1XUTRSVmtLZW10Vk1qQnZSWHBvY0VkclluUTFiemRvWlVONVdscEtWVXhZV1d0UVIzUjVVbE5ZVEVjeWVITTJOa013VVZKR1NrdzVXVlEyVVdOd2NHOXRkWEIyYXdwelUyVTJRWHBYZG01SloweHNTSEIxZUU1SmVWazJjMlJXZURBNFdYbDBNa3BtYVZsMFdXWlhRMmRtVkRkMlJqSXZSWEEwYVd0R2IyTmpRM0o1VDBvM0NreE5jVWRXZDBFeWIzVjFVRWxSWmtweVIxRk5kVkJDUXk5SU1VTlJlVzFwVFRoVVpEbDVkelZpUjBaSk5VOTZlazkzWVRVMVIwcERaRkpEWWtWb1EzWUtNMGRsTUZWbVdIbDViVm81YlRocU5FeFFPV1JCYjBveE0ydERhRGRXYlZwNVFrdHRTMUpKWnpGQldXTk1VVEkwVW5ORWVFZFdPSEl2ZDNKclZreDRTQXBrU2pZMmFHdzJWVEI1SzA1SFdqaEJUWE5OVmk5MU1IVktLMVZwTlUxWmJrOWFZbk5VZFdGR1FWQkhRbFp0WWswd1FVOW9NamhvYlhOdkswRkhSbXh6Q214dFVtOTFURVJzZEd4eVdVRlJkVFJzTWxSdFIzWjZVall6TWxOVksycGplVW8xVUVWU0wybzRSRUZXYjFVd01YQklTRmRQYVVwb1QzaFpjMlJUYUhvS1NreHNlR3hrUzFkNGNVdFRVemhaTVc1c1JHWlpSazA0V0cxTEwwOVRRbEptYTNSNmRFUTBSVmxNSzBKUVVYQlBSV1pZYTAxV2NVMWthR3RuVUVocU5RcG9WVXBKU2xKNmRVSnpMMUZCTnpOeVFYYzlQUW90TFMwdExVVk9SQ0JEUlZKVVNVWkpRMEZVUlMwdExTMHRDZz09DQogICAgc2VydmVyOiBodHRwczovL3BldGZhaW5kci1ha3MtZG5zLWh1MXk3YmpjLmhjcC5ub3J0aGV1cm9wZS5hem1rOHMuaW86NDQzDQogIG5hbWU6IHBldGZhaW5kci1ha3MNCmNvbnRleHRzOg0KLSBjb250ZXh0Og0KICAgIGNsdXN0ZXI6IHBldGZhaW5kci1ha3MNCiAgICB1c2VyOiBjbHVzdGVyQWRtaW5fcGV0ZmFpbmRyLXJnX3BldGZhaW5kci1ha3MNCiAgbmFtZTogcGV0ZmFpbmRyLWFrcy1hZG1pbg0KY3VycmVudC1jb250ZXh0OiBwZXRmYWluZHItYWtzLWFkbWluDQpraW5kOiBDb25maWcNCnByZWZlcmVuY2VzOiB7fQ0KdXNlcnM6DQotIG5hbWU6IGNsdXN0ZXJBZG1pbl9wZXRmYWluZHItcmdfcGV0ZmFpbmRyLWFrcw0KICB1c2VyOg0KICAgIGNsaWVudC1jZXJ0aWZpY2F0ZS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VaSWFrTkRRWGRoWjBGM1NVSkJaMGxTUVVscGEycEthVTFQVDNkbVVXZDBTRlpJVVVGYU9HZDNSRkZaU2t0dldrbG9kbU5PUVZGRlRFSlJRWGNLUkZSRlRFMUJhMGRCTVZWRlFYaE5RMWt5UlhkSWFHTk9UV3BWZDA1VVJYcE5WR3Q0VFhwVmVsZG9ZMDVOYW1OM1RsUkZlazFVYTNsTmVsVjZWMnBCZHdwTlVtTjNSbEZaUkZaUlVVdEZkelY2WlZoT01GcFhNRFppVjBaNlpFZFdlV042UlZaTlFrMUhRVEZWUlVGNFRVMWlWMFo2WkVkV2VWa3llSEJhVnpVd0NrMUpTVU5KYWtGT1FtZHJjV2hyYVVjNWR6QkNRVkZGUmtGQlQwTkJaemhCVFVsSlEwTm5TME5CWjBWQmMzZHVjbmxRTUdwaGQyc3hPRXA0VG14NVZqVUtWVVpIUVRNeFlWQldWbWRqTm1KbVJUWllOM0puYmpsbk1FczFablZoZWs5S2QyOXJOMDFGVHlzM1kwdFZUMnM0V2psUVZtUlhNM2RqYmxoclVUQkJid3BTU25nd1luUjVUVzFMTVRWU01rRjNWbFpKVEhGWGJVWnRObE4zSzI1TWVGaHJNekZaWnpnMGVFSlBlVFIwTVVsbFRYVTRhU3RPYkhWcVZsTkpOaTkwQ2tVd2FGVnpPVXhKZUU1VmNYRm5ZVmgzTTJsNGJXNXpjSFpSZFhnMmQySnNWakZLUjBweGRHUk1kMVJoZVVsd1UwczNVWGxKY0U0ME9VOXJkV294Tm5nS2IxWm5aRE54VURoVlYwZHdOMXBNZG1Wb1J6RnViVXREYzFObGFUUlpaVzgxWlRnNVlrYzRjbUUwTlhRMkszTjJSbVl2Ym5KbldsTldjbTU0YVRGdldncFNjekJYYW5adlN5OWhjMm8xSzB0NVNreGFPRVpWVFdRMlRUUXZhekZWVEhNd1IwUTBhSEpvVVROS2Ftd3pUblptTVhGNEt5dDBhRVZaVUdaaVppdDNDbTh5TW1SSlFUZEJiM0JOVEc1Q09VMUhWV2xIWVV4eFZqazFVVlF5ZFhGeE0zVlBVVGREWmtoWU1EWnVZbXRSUmt0eE0wUlJjMjVVY25wVWJsSlpabEVLTXpGc1Iyd3plazlWSzJab01rMDFTMEZCUkdwbWFqQTFkMDR3WkV4amFVMVFVR2w0UWsxSlEzWjBNV3RsZGtNMmRXWk1aa2xYZEdOMFlqVjVaM1pIYkFwRlpVaElOMVl4Vm5jdlMzQTVNVXREVVV0a1VsVktUbE5ZYTB3eU5sUk5NVmgzTkc1cFVVVTVaSFZTVlVoTVRGRkRZWGQzVVVSU1VGWkVNMnhZZDA4MkNpdHNSMmw0UTFGVFoyNVZlVW93U0RkSVFTOVRXWGRYU1VGb0sweFBlRFpXVDFrNVZEQmlja1p0Vnk5TWFUVk5WVFJoUldac0swcHpWV2R6Y1dvdk1uTUthWFZqVVdKVU16VlVRbU5KUlRneFNVNUhMM1Z1TlRFNFkwSXZZalZtUW5aeGMwSm9VRlk0T1ZablpsVXpOMFV5ZDJWRGIyNTVjVVJ2VlZscGQyMTZkd3BKUTFGTk5EWjNlV3h5U2tGNmNFTm9iSHBNYmt0VGEwTkJkMFZCUVdGT1YwMUdVWGRFWjFsRVZsSXdVRUZSU0M5Q1FWRkVRV2RYWjAxQ1RVZEJNVlZrQ2twUlVVMU5RVzlIUTBOelIwRlJWVVpDZDAxRFRVRjNSMEV4VldSRmQwVkNMM2RSUTAxQlFYZElkMWxFVmxJd2FrSkNaM2RHYjBGVlEyaFVkMUk1VjNvS1NVYzJVWGx3UzAxMksxQTFTRFE0WlhReU9IZEVVVmxLUzI5YVNXaDJZMDVCVVVWTVFsRkJSR2RuU1VKQlJHdFdiRFJ3T1dsUVRIRlhaQzg1U2xScVpRcGhlbUk1WkM5d2NFNTFURzlWZDA0eWNtdHVUVzlEV1haSFRHcHFkSGhaT1M5MWRHbDFla2RHWmpoNWVXNUNiVTFKVkd4RGVEWmxXWFI2U0ZFMFFqUkNDblZPY0M5NE1XczRWWGhMUVVSeFFYZzFSMGwwVDBKdU9EaDFORGMwYnpKR2VEWTFXWGxYVDBaQmEyNXNibFJRTlZWcVpuRXplVEZHVVZVMk0yWk9kbWtLYTFwRmJETlhRMHRhTkdKc2VrMXVjR3h6YTNSdE1HRmpUR3B0V214Nk1sZHVkVVJHY1dwM01WcHdTbFJHTkdSNFlsRk5hMlZtTkZSa1VVUkRXWGRHVmdwcmRtcFRhbmxQTmxaTU9WZFJlV1JrY2xkU1VXZG5SRzVpUmtOSVZrSklZVUZMYlVsUk56QmtWV3d4TDI4MGJuY3ZLM2hqVGpKbFdtNXpiR3QyS3pWSUNsZEpha3hLU1ROWldtdGFWRTh2YVZoNVQydFVSelExVGtWU1Z5dFBNMVJvU1dSdGMxaHJNMFJaTlUxM1IwbzBXRUUyV0VkQlVsZ3piVmhqWmxKdWFtc0tTbkU0T0dJMGFHRlZRa1V5SzJRMlVGbGtTWFpGSzBsUlV6Uk5WVVlyZVhkVWMyTlBVV3RqUjJOeWFXcEJlR05uWjJWVE1YUXphV1ZsU0ZvMVpFc3ZUUXAxY1RBeGJsaGxlQzlITDFkelkwMURNMVkxWVRRelRVNW5XbEpJTkRod09VVlRSbmhRU21kVVl6STFWSEJZV1VsSk5IRlVVSGc0T0RaMFoyOUJlSEozQ25sWlEwVXlSVVUwTUhkSmEySkplVXRWV1dabWIxRlNOazl1Wm10bGNUZFhUVXBKV0ZwMFVucG1ibUpXVUZSREwzUTFaelZOY1VwWWJGWXpNVWt3VHpnS1dtTmxNVEkwYURoQlprNHlSR2hwWVVkSGEwOHpSVE5oYUZGcVVERnZNbE5uUlhsUk16Z3pUaXRRV2xOelFrMVpTWFJYTUZWQlEwdGlUM2t3VnpKcFF3cGhkMFJuTWxoTWIyc3hSazgxYjFsS1YwNVFRazgwWkZsUVpVeFJUemh0Uld4bGFIYzVSbXBUTDNsT1lubDJORlUxZGpGUVdtMUVNRTFRWkVwNVJFbG5DbE40TDFVeloxbHFhMWs1ZW5SWVJrOUlSUzlyWTNvMGF3b3RMUzB0TFVWT1JDQkRSVkpVU1VaSlEwRlVSUzB0TFMwdENnPT0NCiAgICBjbGllbnQta2V5LWRhdGE6IExTMHRMUzFDUlVkSlRpQlNVMEVnVUZKSlZrRlVSU0JMUlZrdExTMHRMUXBOU1VsS1MxRkpRa0ZCUzBOQlowVkJjM2R1Y25sUU1HcGhkMnN4T0VwNFRteDVWalZWUmtkQk16RmhVRlpXWjJNMlltWkZObGczY21kdU9XY3dTelZtQ25WaGVrOUtkMjlyTjAxRlR5czNZMHRWVDJzNFdqbFFWbVJYTTNkamJsaHJVVEJCYjFKS2VEQmlkSGxOYlVzeE5WSXlRWGRXVmtsTWNWZHRSbTAyVTNjS0syNU1lRmhyTXpGWlp6ZzBlRUpQZVRSME1VbGxUWFU0YVN0T2JIVnFWbE5KTmk5MFJUQm9WWE01VEVsNFRsVnhjV2RoV0hjemFYaHRibk53ZGxGMWVBbzJkMkpzVmpGS1IwcHhkR1JNZDFSaGVVbHdVMHMzVVhsSmNFNDBPVTlyZFdveE5uaHZWbWRrTTNGUU9GVlhSM0EzV2t4MlpXaEhNVzV0UzBOelUyVnBDalJaWlc4MVpUZzVZa2M0Y21FME5YUTJLM04yUm1ZdmJuSm5XbE5XY201NGFURnZXbEp6TUZkcWRtOUxMMkZ6YWpVclMzbEtURm80UmxWTlpEWk5OQzhLYXpGVlRITXdSMFEwYUhKb1VUTkthbXd6VG5abU1YRjRLeXQwYUVWWlVHWmlaaXQzYnpJeVpFbEJOMEZ2Y0UxTWJrSTVUVWRWYVVkaFRIRldPVFZSVkFveWRYRnhNM1ZQVVRkRFpraFlNRFp1WW10UlJrdHhNMFJSYzI1VWNucFVibEpaWmxFek1XeEhiRE42VDFVclptZ3lUVFZMUVVGRWFtWnFNRFYzVGpCa0NreGphVTFRVUdsNFFrMUpRM1owTVd0bGRrTTJkV1pNWmtsWGRHTjBZalY1WjNaSGJFVmxTRWczVmpGV2R5OUxjRGt4UzBOUlMyUlNWVXBPVTFoclRESUtObFJOTVZoM05HNXBVVVU1WkhWU1ZVaE1URkZEWVhkM1VVUlNVRlpFTTJ4WWQwODJLMnhIYVhoRFVWTm5ibFY1U2pCSU4waEJMMU5aZDFkSlFXZ3JUQXBQZURaV1QxazVWREJpY2tadFZ5OU1hVFZOVlRSaFJXWnNLMHB6VldkemNXb3ZNbk5wZFdOUllsUXpOVlJDWTBsRk9ERkpUa2N2ZFc0MU1UaGpRaTlpQ2pWbVFuWnhjMEpvVUZZNE9WWm5abFV6TjBVeWQyVkRiMjU1Y1VSdlZWbHBkMjE2ZDBsRFVVMDBObmQ1YkhKS1FYcHdRMmhzZWt4dVMxTnJRMEYzUlVFS1FWRkxRMEZuUlVGc1lXMHhZMFUwY2xSVk5XeDVUSHBuU0ROcmVqY3ZRWGg1YjBOU1ZVMWFXRnBSWnpWcmRtRkdOa3BEVTFoa09XMUtaRUpQYUVaUU1ncHBaa3haYXpWS2RrUlVVSEpUZEM5S2EwZENWMjR4Wm5SbFJXOXdXSHBHY1Vrd1NUWlNWMkU1SzNWNGRHVjFWV0V5YjA1aVRFMUNMMDFPZW1zMUwwSkVDa3czVjBwMmJEWTFTM1YyVUhGVGNXMWphMjFyZDBGUVUzQm5TbkZMTjFKTVIyZGpXbnBZUW10UFlqRktTVUl6UlZkV05tSm9WM2hDVkdwYU1XZEpiRWNLUjNjd2F6SkRhekoxYlhwdFVUWktaVkp2YTBGck4zQmFUVmd2TWk5UGFYTkVNMFZHWlhkSmNFTnRMMHAzUlVWT2ExWnFTRFV3T0RZeVZYbE9ORFpuV2dwelNYTTVkMHQwVUU0clpHaGtVVW95Y1ZGTFpqQmtLMlZEZERsSFVXVnJkVGhzV1ZNeVptOHlRMkZHTTFOVWJFTm5TVTloWmxGSWMwbDZlakJwZFZFMUNsZHphMlJvVlZGYUwwbERRM012VFdNeFdHNTBjWEpoVTBReVIzVlNXV3h3UW5Kc01sTmlNWGhGYjI1dlZrWXZVemhMWkZReGVUVXJWMWxYY21wcE4xQUtWVVp4VXlzeU0zbHplblJrUVVZekwyOHJiazlLTkVnME5uVnlRVloyU0ZKb2VVUTRieloyVkhCd2NsUkhWM2x1VVcxSlRVdzRaRzVPV2tWR1RsQndTUXB3UmtSU1JVSTVlVmRRVTB0NGNsSmtXVFJ2WW0wM2VGWmlLMmRtV1ZOak1ubDVSaXRyTW04MFNtSkNjUzlvU0hGS2RHWkRPRVpoVUhOd2RYbHFXRTFNQ2xjMlMzbFlibXBVUjBWeVRtcFpWR0YyVEdJMlNqSldkVEJITDFGUk1GUTJSVmhXZVVWdlRVZ3pWVmQ0VFU0d2NIVldZa1l3Vml0UGVXWjVhV1ZwVnpVS0syUkVXRFJvUTFReFRXd3JkbXRCWTJWQk9GQnFSMk5pUTNoeWQyOXFVMmxhVjBocE0ya3lVRmxUVjBsRFQyeDZOVmxNV0hCU2VFVlpkRGRaUkhCdlRnb3ZkV1paVlc4d2FTdHJhRGhVTkZOWGVGSlJNRWxyU1hwRlFYbzNNRTlNTHpWcVZtWjVVVkpYYW5CdVkyeHlNVGxaUVVWRFoyZEZRa0ZPVUd0bVJIUTVDbll2YldOUWVIUnpVVFo2UjFscGVuaFhabEpPTUZvM05IVklLemxYTTBOWmNpdHBTbEZ5UVN0VFNXZ3Jaa1oxUzFwVVYzQlpRM2x6ZGtJcmJFUmphM01LYVN0NWFsWnpRa3gwZGs1Tk5VRndXVmxSUlM5VFYyaGhPVXQwTWpSblZrWlBRemQ2VjJkNFoxY3paakJoWVV4alQwazVja1JpVGpZeFlrWXdMMUJ4YVFvd1R5dDZiRzVZUWxkRk1uQnlSemxUVlZZclZuTkVPWEJLWjJoeGRrY3laMUV3VnpoUGJXVjZURFJKZEd0Nk4wVmpXbGRqV0d0cVZYSlZhREIwZFZCUENqZ3JWbll4YlU0dlZpOWFaRmgxVHpoNk9GQklWVzVDTjBKR1ZFRlpNREp0TWtSSmRuSlliRlowWlZwQlQwZHFUalJqWW1jeEswWmtTMnh6TlhGc1ltWUtRbTFIWkVKNVlVSjZiRUZSTW0xb2NUTlFNMHhzTVVwYU5sSnFjekF2WTJNdk1GZFZkaXR5YzBRNWNubFRlVzAyVXpFM1psSTVkMHhCUWpaRlJEQkRUZ3BUZEdFM2NUUkNhbEJMZVd4UVlqQkRaMmRGUWtGT2FFOXpaMVJ5YVhkbVVXWkRVWGxwVEZocFZqRlFia0VyVkVKNk9YTTFVRUpyTkhCNkszZHlVVU5GQ2pWTmFGZEtPVzV1WkZSREsyTlNiRzlqT1daNWVVdDRTV04zYTJ4d1lreHdUVVJHVUM5RVNFWnZiMlI1YjNjMlduVkRXaTlVTTNSTVZuRm1ZU3R6Y1VzS05HcFRhV1F3TlRocVRsVlNSREZEV0M4M2FURXlkbGw0WjJWeE5tVnJkM1EzYVVZeE4wa3dNR2xQY1hVNWVubEJVMFV3VEdKeE1ubFJNazk1ZFhCb2FBcFlPRXhqWTBsSlREaElZMVZ1VGxCWlZGaEtabVUxWXk5c016aE9Sblo0S3pSQk4yUlVhazVhTDNJNFlrdEtNR05RVUdGU1VqSTNNM2hTY2t4WlNGRlhDa0Z5SzJwQ1kwVklUREoyVkdsNmJuWmtNRXRqVVVKTGVVb3hOV3RLUTB3eVYwWXpiek0xZW1vcmVGVlZLMmhHY2pCNmVuQnNUbll3TlV0MFQzVkhSRTRLTWt4R2JYTm5VMmt4THpBMmRXUlpaVUZ4VURZd1ZHdDRkMnB3Um0xc1prbHZlVXhwUVRaNGVHOWtNRU5uWjBWQlZUQnBTVW81TTNGUFpFeFhNM2hHZWdwdVFrbDRabXhoZVhNMWNIVnVUbmhJYzBSWFpVaHBhREZaTmtkdWNUVjNabUZFTjBjMVJHZEhVbU4zTXprdlpFRjZaazVUT0hSS2JXZFFSa2RhVEdsa0NuaFJNV2Q1UlhkeFprcEpRMkZXYW5WMVFVa3pTR3ByZUhSM2NVSlNNRWxOVlZvMmIyTndSelpVVjNsWVlYZGpTblpSUlhSbFpHNUxORFYzYW5SRk56RUtVbFJySzJoR1lraHJlR3hFZEM5cE9VMVRkVFoxYUM4eWMxRTRiSEZoU3psT2NEVjRUa2xsUkRKWWEyNWxaSEpXTjFKbGNURjFiRGsxV2pGTGJEZHllUXAxVDNaRlNYbEZVVlJJVVc5cEwzUmxTRmN5Y3pKc1YwMTJiRlZPUTNoaVRVMTROMnQ2VWxNeUwwUk9aSGh5SzFkeFZuRkhRVVJWVTNwblZYQlVWa3BTQ2pWQ2FISnpRVlJ2Y2xoNE4wVnhkM2xQVmtSRmF6SnJOMVZJT0VJeUwxWkRNbWg2U0haRVVIbzRaWE41TVVkTmFXWmtkMDFJY1ZGeFYxUktWVmN4WTJ3S0wzWnVTSGhSUzBOQlVVSjVaVFJSWjNOdlIwNURlakJKT0RJMFJIaGtNblZZU0VKc1NFZGlhMmRxUW1GelR6bHFLME5CTkZSQ00wTkphMlJLVUhkV05RcFlVRWxFU0hCT2FGVmxMeTl5ZDBOcVkweGtORXcwT0VGTGJrMTROMGxaVHpWbkswTTFUSHBuVFhwV1pqZG5ibHBKVkRkdVFVRmhiRVZQTDFGTVNEbHNDa3hZYUV4cldXTlpkbUpqTnpSbmRpdHlaQ3RaWm1nMmQzVjJZMDQzVTFsb0x6WlNLemgxTlZKVFMwY3hZMDF1VmpsSWVIQjBaU3N5T1VoRVptY3lOSElLZFVVNFoyMUVVekZQWlM5NGNIZHBTbWdyV1VsclUxbEpPUzkzZUd4WmIwMXVNVlZ3WjJjMlNpdFhOSHBRZUU5c1JVMXliRFZrYUdsclQyVXdkVUppVkFwSVRURjBVbXcxTm1STVVUaHpUMjVDVUZsTllYUm5UV3BCVDA5Sk5TdHBNWGxpY0c5cFoySjBSVVIwYmtKM1FWZzBjbmRZUlVKMVIwZFFTbFJJWkZSMkNrRTJkbXAwVmtvd1l6UldWVzVuT1UxU1FscHBTelpEWTBRM09HUXZOalZLUVc5SlFrRlJRMmR2YnpSVUszRjFhbU5JY1d0b2NWUnFUVUpYZFV0V1ZXd0tXbUpCVG05alIxZFViakIyZFZKS056UnJVRWREUWxVeE5WcEJRVms0VG5SWFUwSlpkelEzY1RkUE5sQlZOR2gxYkU4d01FRnNWMXA1UkdWNmMyMXhOZ3BwVmpKRlZFdG1SRTQwVjNsUWJHdHVVeXRQU2xWc1MzZG1SbkUxVTJsVlRHb3hUMGxtY0hSdFJFMXBVRmMzY2xwTk9WRm1iVlF3T0hSbFpEZGpkSEV4Q25oVlZFWkxVMDlSZVVwTVluUjNlR1E1VjJVelNtcDZZalo0WlhkdlpUZFhjMmxFZW5OUWJXTktja2RFV25SU2RFbHBjVlpTTm5abWJWbGFRMmxHTmtnS09HdFJOSGxsV1c5RlZrUlhVbnBaY0drcmFFZHVSMDVZV2pWSk1FZG9aMjg0ZFdSbVZEWnZjVmxDVlM4cmNDOXFNazkyUzFaMmNHdDFPREZTVGpoUE1BcHdOWHBaU1hVNFZtZzFZelkzUnk5NE9FVkZUMkZPUVdoQlJFTXZkbVZHTkhkVmRXRXJWMWMwT1VObmMxazVlVlV2VFRGeVZGRmxka3hXTVVRS0xTMHRMUzFGVGtRZ1VsTkJJRkJTU1ZaQlZFVWdTMFZaTFMwdExTMEsNCiAgICB0b2tlbjogaHV3cXc5a2F5cGZwMnI1dnd5Z3ZmeWl3c3dnNDNmM3NvNTV1ODRla3RhbmxtaTBtMWFmNzhsZ2dtMmo0c3lvOXptYzcyZXV1MWVoMmwycW9sa2tmNjdkMHZ5OHd6b3JodWFtczRpdmtneXV1MG94dWxmMDBhb3NjYnlwNjVqOW0NCg==' // << fixed – real value, no uniqueString()

 
extension kubernetes with {
  kubeConfig: kubeConfig
  namespace: 'default'
}
 
resource ingress 'networking.k8s.io/Ingress@v1' = {
  metadata: {
    name: 'frontend'
  }
  spec: {
    ingressClassName: 'webapprouting.kubernetes.azure.com'  // new class
    rules: [
      {
        http: {
          paths: [
            {
              path: '/'
              pathType: 'Prefix'
              backend: {
                service: {
                  name: 'frontend'
                  port: { number: 80 }
                }
              }
            }
          ]
        }
      }
    ]
  }
}
